# 实验内容   
自适应采样率。但如何自适应呢？本实验就是要搞定如何自适应。  

# 自适应采样率思想
## ~~思路1~~   
假设平衡采样率为 0.5，基分类器数量为 15。  
那么采样间隔为 0.5/15 = 0.03，采样率起止为[0.47, 0.53]。
但这样的就有问题啊：采样率越高，说明比较平衡，你这个采样间隔反而比较大。不应该啊，应该是不平衡率比较大时，采样间隔也比较大。

最终决定：抛弃该算法

好烦啊，之前的实验数据又要抛弃了。 

## 思路2
采样间隔应该遵循这样的规律：   
1、不平衡率越高，采样间隔应该越来越小 
2、采样间隔不能 0< 或 >1   

我发现的规律：当不平衡比越大时，微小的采样率变化会引起样本数量变化很大。   
当不平衡率为 40 时，采样率为 0.025。   

那这样的话，肯定要用到 log 函数。   

采样间隔为：ir*(1/logIR) = 1/(IR*logIR)   
设计思路：
log 取对数保证了不平衡率越高，采样间隔变化越来越小。取倒数就是不平衡率越高，采样间隔越小的意思。   
1/logIR 再乘以平衡采样率，再进一步缩小采样间隔到合理范围。   


例如：不平衡率为5，平衡采样率为 0.2，那么采样间隔为 0.08。
不平衡率为 40，平衡采样率为 0.025，那么采样间隔为 0.005。  



当样本数量少于30时，就进行数据增强。数据维度太高，怎么进行增强啊。


# 灵感
灵感1：目标函数加东西   
博客：https://blog.csdn.net/qq_34914551/article/details/89049001


灵感2：用粒子群来生成负样本？

最大的问题：负类样本数量太少了怎么办？IEEE 那篇论文最大不平衡比为 46.5，样本数量为837/18。其实也还好，样本数量不算太少。
我真的需要考虑这个问题嘛？简单粗暴一点，直接进行复制。如果获取的原数据集少数类样本数量少于30，那就随机选中某些样本进行复制，达到30个。

灵感3：再加上代价敏感


灵感4：采样间隔有了，难道就一定要以平衡采样率为中心点嘛？可以1/4的位置，也可以1/5的位置，是不是突然多了很多实验，哈哈。


灵感5：极大不平衡时怎么办呢？通常这种情况下负样本只有寥寥的几个。该怎么办呢？把这个少数类分错了，acc仍然可以达到99%。
直接复制？那只要有一个分错了，不就全部分错了？要是分对了，那不就全对了？
只有一个样本该怎么办啊！！！可以先简单复制一些样本，然后再采样SMOTE进行样本增多。问题又来了，到底增加多少个呢？前面我已经对多数类样本进行采样了。
如何提出一种自适应算法呢？多数类少数类直接复制变多。

目前采样的办法：随机复制扩充，但保持不平衡比不变

灵感6：分类器的数量，5，10，15，20，安排一下

灵感7：能不能结合一下迭代法和袋装法？   






# 实验目的
验证猜想，我认为“自适应采样率”能取得比较好的结果。   

# 实验数据
自适应采样率集成分类器   
ASBC = AdaSamplingBaggingClassifier

## 平衡采样率为 1/2 点位
以下全部实验基分类器数量为15


### ecoli-1 259/77=3.36
|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    | 0.9125 ±0.0195  |
|auc        | 0.9159 ±0.0268   |
|gmean      | 0.7385 ±0.0292    |

val_f1   
[0.8896103896103896, 0.926984126984127, 0.9361702127659574, 0.8749999999999999, 0.923076923076923, 0.9182389937106917, 0.8716216216216216, 0.928348909657321, 0.9345794392523364, 0.9079365079365079, 0.9150326797385621, 0.8961038961038961, 0.9079365079365079, 0.930379746835443, 0.9245901639344262, 0.9141104294478527, 0.940809968847352, 0.8918032786885246, 0.8967741935483872, 0.9216300940438872]   
auc_value   
[0.8940568475452196, 0.941453662715979, 0.9193438721740609, 0.8908827022034569, 0.9061594202898551, 0.9447517942583733, 0.8570523648648648, 0.9439548546691404, 0.9280303030303031, 0.9222269144144145, 0.9098630136986301, 0.921875, 0.8829994019138755, 0.9578260869565218, 0.9532876712328767, 0.8851762820512821, 0.9399839743589743, 0.9001369863013697, 0.8867609059127526, 0.9326717121233756]   
val_gmean   
[0.7215232742145732, 0.7502676946225088, 0.741430732335534, 0.7518284875422299, 0.7644264687247273, 0.7238255625329051, 0.7256753611152371, 0.7435561147168642, 0.7614311298414658, 0.6950597874342236, 0.7585133260223084, 0.758287544405155, 0.7163503994113789, 0.7584308744403461, 0.786182034760921, 0.6735620961989306, 0.7932002689527196, 0.7092345864593301, 0.7267707853469377, 0.7097774950868561]   

### cleveland-1 243/54=4.50
|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    | 0.8994 ±0.0098  |
|auc        | 0.6142 ±0.0427  |
|gmean      | 0.0079 ±0.0345   |
val_f1   
[0.8977777777777779, 0.9022222222222221, 0.9026548672566371, 0.8973214285714286, 0.8878923766816144, 0.9139072847682119, 0.8953229398663696, 0.9046563192904656, 0.9002217294900222, 0.8973214285714286, 0.9098901098901099, 0.8898876404494382, 0.9122807017543859, 0.8798185941043084, 0.9074889867841408, 0.8898876404494382, 0.9170305676855895, 0.8823529411764706, 0.9026548672566371, 0.8973214285714286]
auc_value   
[0.5874946190271202, 0.553795342588446, 0.6075646167557932, 0.6193489076357344, 0.6207070707070707, 0.6934178743961353, 0.6667195935217529, 0.5868673050615595, 0.6857690202517788, 0.6, 0.6414516319076234, 0.5958049886621315, 0.6314302884615386, 0.6311167512690355, 0.544361965358784, 0.5733869305297876, 0.6346491228070175, 0.643836291913215, 0.5309714795008913, 0.6354639844256977]   
val_gmean   
[0.0, 0.0, 0.0, 0.0, 0.0, 0.15811388300841897, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]   


### yeast-0-6 388/90=4.32
|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    |0.9156 ±0.0126    |
|auc        |0.8420 ±0.0300    |
|gmean      |0.6453 ±0.0650    |

到时候还要做箱线对比图，详细的f1score和auce应该贴上来。

### newthyroid-0 185/30=6.17
|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    |0.9666 ±0.0156    |
|auc        |0.9775 ±0.0144    |
|gmean      |0.7589 ±0.1069    |
val_f1   
[0.9466437177280551, 0.9688581314878892, 0.9550173010380623, 0.9858657243816255, 0.9646643109540637, 0.9774696707105719, 0.9777777777777777, 0.950530035335689, 0.9291882556131261, 0.9862068965517241, 0.9773123909249564, 0.9581881533101045, 0.9809358752166377, 0.9594356261022927, 0.9528795811518325, 0.9877408056042032, 0.9649122807017544, 0.9722222222222222, 0.9842931937172774, 0.951219512195122]   
auc_value   
[0.9514015151515152, 0.9943452380952381, 0.9801110083256245, 0.9718262899058098, 0.9815750915750916, 0.9901152482269504, 0.9927234927234927, 0.9770989689275443, 0.9545642296571665, 0.9965034965034965, 0.9930647840531561, 0.9841392649903288, 0.957773851590106, 0.9721323529411765, 0.9637362637362638, 0.9957446808510637, 0.99375, 0.9660714285714286, 0.9666580176440062, 0.9674814980937431]   
val_gmean   
[0.5951190357119042, 0.7559289460184544, 0.6684373647831918, 0.9021937088963173, 0.7745966692414834, 0.8215838362577492, 0.8053872662568292, 0.6868028197434451, 0.49065338146265813, 0.8819171036881969, 0.8352690695845568, 0.6995439243733446, 0.85146931829632, 0.7348469228349535, 0.6782329983125268, 0.9082951062292475, 0.7637626158259734, 0.7867957924694432, 0.8834522085987724, 0.6546536707079771]
   
### winequality-red-7 1400/199=7.04
|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    |0.9337 ±0.0057    |
|auc        |0.7154 ±0.0225    |
|gmean      |0.0069 ±0.0301   |
val_f1   
[0.9375830013280213, 0.9296718017414601, 0.9268947015425889, 0.9403183023872679, 0.9354624085163007, 0.9318181818181819, 0.9375830013280213, 0.9309188464118041, 0.9389920424403183, 0.9282360831656606, 0.9319092122830441, 0.9353764157228515, 0.9375830013280213, 0.9296718017414601, 0.9361702127659575, 0.9311036789297659, 0.9382879893828799, 0.9289544235924934, 0.9203778677462888, 0.946605141727093]   
auc_value   
[0.7188611295280574, 0.7214217098943324, 0.7132131334722978, 0.7206472339758658, 0.7209382469827397, 0.7055518046529946, 0.7306898318365379, 0.6915122821462879, 0.7411262589044461, 0.7037909891415915, 0.749381987752121, 0.7304020912268335, 0.7338391296486046, 0.7235213393714834, 0.7546312736742424, 0.6713815422385895, 0.6928868002007574, 0.6970786027389801, 0.7182451911128783, 0.6682743560645139]   
val_gmean   
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.13801311186847084, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]   

### fertility-1 88/12=7.33
|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    | 0.9384 ±0.0099  |
|auc        | 0.8338 ±0.0372  |
|gmean      | 0.1560 ±0.2419 |

val_f1
[0.9482758620689655, 0.9361702127659575, 0.9376770538243626, 0.9467625899280575, 0.9212121212121211, 0.9300998573466476, 0.9391796322489392, 0.9331436699857752, 0.9421720733427362, 0.9300998573466476, 0.9346590909090909, 0.9566473988439307, 0.9270386266094421, 0.9598853868194843, 0.9300998573466476, 0.9421720733427362, 0.9361702127659575, 0.9316239316239316, 0.9527896995708155, 0.9316239316239316]
auc_value
[0.7871043771043771, 0.887979797979798, 0.8642199945070036, 0.8255583454473372, 0.8161603622024245, 0.8602103418054339, 0.8560170916223032, 0.7359885832900881, 0.792536877464583, 0.8730749968699136, 0.8116162283599841, 0.8840291128810767, 0.8583877995642701, 0.8137973137973138, 0.8270001252034557, 0.8680078866656931, 0.8065993265993265, 0.8495286195286196, 0.807021307021307, 0.8503758919469929]
val_gmean
[0.4472135954999579, 0.0, 0.0, 0.4423258684646914, 0.6494540516549584, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5640760748177662, 0.0, 0.5538741344173392, 0.0, 0.0, 0.0, 0.0, 0.4629100498862757, 0.0]






### ecoli-4 301/35=8.60
为啥 gmean 为 0 呢？    

|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    |0.9448 ±0.0100    |
|auc        |0.9065 ±0.0236   |
|gmean      |0.0143 ±0.0625    |

### zoo-6 91/10=9.10
|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    | 0.9616 ±0.0156  |
|auc        | 0.9829 ±0.0199  |
|gmean      | 0.4149 ±0.3398 |
val_f1   
[0.9740566037735849, 0.9441860465116279, 0.9727164887307236, 0.947856315179606, 0.9704840613931522, 0.9466357308584687, 0.95040369088812, 0.970202622169249, 0.977620730270907, 0.9665071770334929, 0.9752066115702479, 0.9441860465116279, 0.9751479289940829, 0.9760191846522781, 0.9838337182448036, 0.9279811097992916, 0.9443155452436196, 0.9705535924617196, 0.9430894308943091, 0.9717647058823529]   
auc_value   
[1.0, 1.0, 0.9863414634146341, 1.0, 0.9517252820172528, 0.9970694799658995, 0.9756152630390607, 0.9530555700768466, 1.0, 0.9567821782178219, 0.986163957108267, 1.0, 0.9957100925716866, 0.9888912122954676, 1.0, 0.9472948733992408, 0.9871007371007372, 0.9436546463245492, 0.9894440534834622, 1.0]   
val_gmean   
[0.6900655593423543, 0.0, 0.699205898780101, 0.0, 0.6571287406727709, 0.0, 0.0, 0.6841674549282352, 0.724568837309472, 0.6633249580710799, 0.7071067811865476, 0.0, 0.7152816976385906, 0.7579367289598671, 0.7191949522280763, 0.0, 0.0, 0.6362090102803518, 0.0, 0.6439209162167846]   


### vowel-0 900/90=10.00
|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    |0.9524 ±0.0048    |
|auc        |0.9466 ±0.0211   |
|gmean      |0.0000 ±0.0000    |


### glass-2 197/17=11.59
|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    | 0.9583 ±0.0052   |
|auc        | 0.8725 ±0.0329  |
|gmean      | 0.0235 ±0.1024   |
val_f1   
[0.9633699633699635, 0.9537892791127541, 0.945013979496738, 0.966728280961183, 0.9652650822669104, 0.9518518518518518, 0.9595588235294118, 0.9576427255985267, 0.9537892791127541, 0.9633699633699635, 0.9586016559337627, 0.9586016559337627, 0.9652650822669104, 0.9518518518518518, 0.9595588235294118, 0.9576427255985267, 0.9605142332415061, 0.9566820276497696, 0.955719557195572, 0.9614678899082569]   
auc_value   
[0.8984077946768061, 0.820813953488372, 0.8175542406311638, 0.9189930660235152, 0.8948116028708135, 0.8516724034720144, 0.8913270637408568, 0.8770484949832775, 0.8291472868217055, 0.916254752851711, 0.9036468330134357, 0.8435060780550224, 0.9029854465709728, 0.8151189763543849, 0.8786572622779519, 0.8709239130434784, 0.8555738360976477, 0.8829787234042554, 0.8690878378378378, 0.9113276990185386]   
val_gmean   
[0.0, 0.0, 0.0, 0.4698314953327762, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]   

### movement_libras-1 336/24=14.00
|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    |  0.9651 ±0.0042 |
|auc        |  0.9394 ±0.0326|
|gmean      |  0.0471 ±0.1166|
val_f1   
[0.9694656488549619, 0.9615384615384615, 0.9710365853658537, 0.9599383667180278, 0.9663093415007656, 0.9647239263803682, 0.9671002295332822, 0.9639293937068305, 0.9647239263803682, 0.9663093415007656, 0.9583333333333334, 0.9747126436781609, 0.9655172413793103, 0.9583333333333334, 0.9702517162471396, 0.9607390300230947, 0.9604344453064391, 0.9663093415007656, 0.9654112221368177, 0.9663093415007656]   
auc_value   
[0.9500984251968505, 0.958576, 0.9455920019829794, 0.9521391529818496, 0.9345015127503241, 0.947362963987005, 0.9734876361495438, 0.8709005285269007, 0.9190226031658257, 0.95771502665322, 0.9533607681755829, 0.9706355416449313, 0.9524430533820205, 0.8850271366374425, 0.9600669246895662, 0.9529443187531422, 0.8540471417709269, 0.9595519377611295, 0.9694822699937788, 0.9217151707246795]   
val_gmean   
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.4072888336957056, 0.0, 0.0, 0.0, 0.0, 0.32705898763393404, 0.0, 0.20834859739939227, 0.0]   



### yeast-7 vs. 1 429/30=14.30
|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    |  0.9662 ±0.0036 |
|auc        |  0.9662 ±0.0036|
|gmean      |  0.9662 ±0.0036|
val_f1   
[0.9677902621722847, 0.964635063957863, 0.9646882043576258, 0.967741935483871, 0.9693343305908751, 0.9630746043707611, 0.9600000000000001, 0.9723674383868559, 0.967016491754123, 0.9654135338345864, 0.9662415603900976, 0.966190833959429, 0.9639097744360903, 0.9685157421289354, 0.9677902621722847, 0.964635063957863, 0.9600000000000001, 0.9723674383868559, 0.9716417910447761, 0.9607250755287009]   
auc_value   
[0.7919756641946865, 0.8198791781458492, 0.8620832504805461, 0.8297277807824049, 0.7667118337850045, 0.8206860208872281, 0.7600272932241604, 0.85838834225931, 0.7764094432699084, 0.837328999051876, 0.8202035886818494, 0.7845170209089339, 0.7716946177847114, 0.7624760430487986, 0.7880336957304342, 0.7748033325588343, 0.8465201139195443, 0.8303234109685722, 0.8119290160886087, 0.8012971698113208]   
val_gmean   
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]   

### ecoli-5 316/20=15.80
|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    | 0.9714 ±0.0067 |
|auc        | 0.9658 ±0.0101 |
|gmean      | 0.1278 ±0.2475 |
val_f1   
[0.9686221009549796, 0.9700272479564032, 0.9735234215885947, 0.9650924024640657, 0.9686221009549796, 0.9706884798909339, 0.9889958734525448, 0.9636737491432488, 0.9721278042148199, 0.9665071770334929, 0.9665071770334929, 0.9862068965517241, 0.9728260869565218, 0.9658002735978112, 0.9672131147540983, 0.9827942188575362, 0.9693251533742331, 0.9699863574351978, 0.9706884798909339, 0.9686221009549796]   
auc_value   
[0.9607011635027557, 0.9586950970377937, 0.9812788327432679, 0.9395077179808093, 0.9490814451928965, 0.9651270429009193, 0.9628425365560275, 0.9701280227596016, 0.9728466655295924, 0.9680454925959068, 0.9732269145281875, 0.9540508272215589, 0.9740921787709497, 0.9625779036827196, 0.9615260122410546, 0.9766073095905029, 0.9659478043444288, 0.9773245819659322, 0.9653185648621041, 0.9766227801592162]   
val_gmean   
[0.0, 0.0, 0.0, 0.0, 0.0, 0.15075567228888181, 0.753370803500884, 0.0, 0.0, 0.0, 0.0, 0.7156780854205468, 0.0, 0.0, 0.0, 0.6362090102803518, 0.0, 0.14907119849998599, 0.15075567228888181, 0.0]   

### zoo-2 96/5=19.20
|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    |  0.9746 ±0.0022 |
|auc        |  0.9775 ±0.0133|
|gmean      |  0.0000 ±0.0000|
val_f1   
[0.9711375212224108, 0.9780775716694773, 0.9775028121484813, 0.9717194570135747, 0.9734613212874083, 0.975774647887324, 0.9746192893401014, 0.9746192893401014, 0.9769274057400112, 0.9723007348784625, 0.975774647887324, 0.9734613212874083, 0.9769274057400112, 0.9723007348784625, 0.9763513513513513, 0.9728813559322034, 0.9717194570135747, 0.9775028121484813, 0.975774647887324, 0.9734613212874083]   
auc_value   
[0.9793637734814205, 0.9811376363100501, 0.9944764096662831, 0.9578463329452853, 0.943130769610505, 0.976663623180622, 0.9745241769547325, 0.9851851851851852, 0.9786444869056986, 0.9603464641670623, 0.9935012621515655, 0.9812657353013774, 1.0, 0.9696013289036545, 0.9842917559180535, 0.9638380758807588, 0.9732246798603027, 0.9909378596087457, 0.9844782211719211, 0.9766747297230587]   
val_gmean   
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]   

### cleveland-4 284/13=21.85
|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    |  0.9776 ±0.0022|
|auc        |  0.8260 ±0.0435|
|gmean      |  0.0000 ±0.0000|

val_f1   
[0.9811694747274529, 0.9740518962075848, 0.9786388474913065, 0.9766052762568441, 0.978131212723658, 0.9771144278606965, 0.9791459781529295, 0.9760956175298805, 0.9796526054590571, 0.9755854509217737, 0.9776230730979611, 0.9776230730979611, 0.9821782178217822, 0.973026973026973, 0.9796526054590571, 0.9755854509217737, 0.9771144278606965, 0.978131212723658, 0.9786388474913065, 0.9766052762568441]   
auc_value   
[0.85245879851143, 0.7999684741488019, 0.825994569708417, 0.7973518120892706, 0.7931333148558759, 0.8407531214026388, 0.8675987636433884, 0.7351190476190477, 0.904638347295327, 0.7628879948302099, 0.8580422742172488, 0.8019328585961343, 0.8156782034050178, 0.7877024868811316, 0.8806929102725677, 0.7881741051885515, 0.8828477818117418, 0.8040234663710273, 0.8747491441388267, 0.8464658294835925]   
val_gmean   
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]   

### yeast-7 vs. 1-4-5-8 663/30=22.10
| 评价指标 | ASBC           |
| -------- | -------------- |
| f1score  | 0.9779 ±0.0018 |
| auc      | 0.6998 ±0.0337 |
| gmean    | 0.0000 ±0.0000 |
val_f1   
[0.9813907933398628, 0.9743336623889437, 0.9763779527559054, 0.9793713163064833, 0.9793915603532874, 0.9763546798029556, 0.9793915603532874, 0.9763546798029556, 0.9773844641101278, 0.9783677482792527, 0.9768814559763896, 0.9788697788697789, 0.9763779527559054, 0.9793713163064833, 0.9763779527559054, 0.9793713163064833, 0.9748644652538196, 0.980872976949485, 0.977886977886978, 0.9778652238071815]   
auc_value   
[0.727755016283223, 0.6936618346192814, 0.7683131720430109, 0.7019033290347232, 0.6605114991888539, 0.744124201143626, 0.6749093424945128, 0.7051379078372015, 0.7136077333566617, 0.7280950205573321, 0.6483255126309699, 0.6971023629401327, 0.6771253360215054, 0.7287338205091465, 0.741284442204301, 0.6518006400152839, 0.6843315688257103, 0.6925128205128205, 0.7158458961474037, 0.6404426559356137]   
val_gmean   
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]   



### isolet5-7 1499/60=24.98

| 评价指标 | ASBC           |
| -------- | -------------- |
| f1score  | 0.9804 ±0.0028 |
| auc      | 0.9996 ±0.0005 |
| gmean    | 0.0000 ±0.0000 |

val_f1   
[0.9759088918090233, 0.9848024316109423, 0.9843614248479583, 0.9763572679509632, 0.9817073170731708, 0.9790393013100437, 0.9799301919720768, 0.980819529206626, 0.9794849410737669, 0.9812636165577341, 0.9799301919720768, 0.980819529206626, 0.974561403508772, 0.9861231569817868, 0.9812636165577341, 0.9794849410737669, 0.9799301919720768, 0.980819529206626, 0.9781468531468531, 0.9825935596170583]   
auc_value   
[0.9990207279255754, 0.9999748047367095, 1.0, 0.9977827603388142, 0.9992605737947352, 0.9995818465655665, 0.9999709628711914, 1.0, 0.9998103690218834, 0.9988020983931596, 0.9995547640249332, 1.0, 0.9993094136999907, 1.0, 0.9996901978602999, 1.0, 0.9998451353130202, 0.9998787878787878, 0.999195710455764, 0.9998339238263951]   
val_gmean   
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]   

### winequality-red-4 1546/53=29.17

| 评价指标 | ASBC           |
| -------- | -------------- |
| f1score  | 0.9831 ±0.0011 |
| auc      | 0.6133 ±0.0334 |
| gmean    | 0.0000 ±0.0000 |

val_f1   
[0.9839132061354283, 0.9823772028496438, 0.9835329341317365, 0.9827586206896551, 0.9816272965879265, 0.9846614291058736, 0.9839132061354283, 0.9823772028496438, 0.9816272965879265, 0.9846614291058736, 0.9816272965879265, 0.9846614291058736, 0.9850523168908819, 0.9812312312312312, 0.9831523773867464, 0.9831397527163731, 0.9823904083926563, 0.9839011606140022, 0.9823904083926563, 0.9839011606140022]   
auc_value   
[0.6436997081970113, 0.5523306805262302, 0.6002577141275771, 0.6414867509037243, 0.5836360518233267, 0.5924178960634591, 0.6443009992041737, 0.5710086080883547, 0.6290360299964142, 0.7007747053154423, 0.614560109758189, 0.6383534732003855, 0.6280918057663126, 0.5969701606732976, 0.6406702208682407, 0.6136771680216804, 0.568844637031988, 0.5840324236310219, 0.6172809451936966, 0.6045007256380305]   
val_gmean   
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]   

### winequality-red-8 vs. 6 638/18=35.44

| 评价指标 | ASBC           |
| -------- | -------------- |
| f1score  | 0.9861 ±0.0021 |
| auc      | 0.7970 ±0.0453 |
| gmean    | 0.0000 ±0.0000 |

val_f1   
[0.9851485148514851, 0.9870290302655961, 0.9860896445131375, 0.9860896445131375, 0.9873417721518987, 0.9848344165892912, 0.9864029666254636, 0.9857761286332715, 0.9835760768515649, 0.9885908109774899, 0.9838909541511772, 0.9882788402220851, 0.9838909541511772, 0.9882788402220851, 0.9842056364199443, 0.9879666769515582, 0.9867160951498302, 0.9854624188060626, 0.9907692307692307, 0.9813664596273292]   
auc_value   
[0.6886712206867671, 0.8921792121103761, 0.7757297109021247, 0.8273075583420413, 0.8110480635763205, 0.771283623443092, 0.825173729778993, 0.7670476242430855, 0.7894389556657274, 0.7990423361602401, 0.7477899147452044, 0.8939155003613903, 0.8123122941290448, 0.7863854392535645, 0.7916990584780168, 0.7973141786383511, 0.8217952265148316, 0.7383833526999772, 0.8028157349896481, 0.8003481012658228]   
val_gmean   
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]   
### yeast-6 1449/35=41.40
| 评价指标 | ASBC           |
| -------- | -------------- |
| f1score  | 0.9881 ±0.0015 |
| auc      | 0.9400 ±0.0219 |
| gmean    | 0.0000 ±0.0000 |
val_f1
[0.9896743447180302, 0.9864541832669322, 0.9886032335011927, 0.9875298487662509, 0.9872611464968153, 0.9888712241653419, 0.990209050013231, 0.9859154929577464, 0.9869923015662331, 0.9891390728476822, 0.9875298487662509, 0.9886032335011927, 0.9896743447180302, 0.9864541832669322, 0.9883351007423119, 0.9877984084880637, 0.989406779661017, 0.9867233138608603, 0.9853762297261366, 0.9907431896323724]
auc_value
[0.9444650231167085, 0.9631917387310336, 0.9622358002369226, 0.9257891547669406, 0.9441868279569892, 0.9584609299239524, 0.9632079968798302, 0.9251894420993745, 0.9487655201940917, 0.9555044613113511, 0.910417643225445, 0.9385186108859654, 0.9160047193755059, 0.9465245441202867, 0.9513143776824033, 0.9538948302433101, 0.9097564239828693, 0.905016146393972, 0.9000932149340136, 0.9768362443749523]
val_gmean
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]

### winequality-red-8 vs. 6-7 837/18=46.50
| 评价指标 | ASBC           |
| -------- | -------------- |
| f1score  | 0.9894 ±0.0011 |
| auc      | 0.7234 ±0.0405 |
| gmean    | 0.0000 ±0.0000 |

val_f1   
[0.9896030245746691, 0.989120151371807, 0.9905571293673276, 0.9881628787878788, 0.9876893939393938, 0.9910292728989613, 0.9905571293673276, 0.9881628787878788, 0.9910335063709297, 0.9876835622927522, 0.9905571293673276, 0.9881628787878788, 0.9888862615275479, 0.9898369179862917, 0.989364216497282, 0.9893591865689289, 0.988407854270168, 0.990314197968344, 0.9898417198204583, 0.9888810030754672]   
auc_value   
[0.7433196578970218, 0.708699810783274, 0.757959961868446, 0.6535409678965022, 0.7341387639206433, 0.7595346154810563, 0.6828348427073403, 0.7557738380450406, 0.7386842105263158, 0.7461353993728095, 0.7127681124880839, 0.7138045040728318, 0.7749727810169216, 0.6352868661291398, 0.7888358018792803, 0.6672243467176546, 0.683404812379715, 0.7116924222677341, 0.7481545207304212, 0.751577929349486]   
val_gmean   
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]   

### page-blocks-3 5385/87=61.90
|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    |0.9920 ±0.0005   |
|auc        |0.9096 ±0.0251    |
|gmean      |0.0000 ±0.0000    |
val_f1   
[0.9921652421652422, 0.9918061987887424, 0.9923446679722271, 0.9916265811508996, 0.991446899501069, 0.9925240299038803, 0.9921652421652422, 0.9918061987887424, 0.9925240299038803, 0.991446899501069, 0.9919857524487979, 0.9919857524487979, 0.9918061987887424, 0.9921652421652422, 0.9932408395588758, 0.9907275320970043, 0.9919857524487979, 0.9919857524487979, 0.9923446679722271, 0.9916265811508996]   
auc_value   
[0.9274497487437187, 0.9022559032983508, 0.9249171819327275, 0.8838311633703106, 0.9488153007428708, 0.8804741408758626, 0.8750611825360569, 0.9447541854072965, 0.9027208444353351, 0.9480626947040498, 0.8585876720526631, 0.9353720327149412, 0.922035076211894, 0.8774799321281732, 0.8994636932589353, 0.9132850141219471, 0.9190783961699582, 0.8981488130859764, 0.905917006700545, 0.9234524200885315]   
val_gmean   
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]   

## 平衡采样率为 1/3 点位

### yeast-0-6 388/90=4.32
|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    |0.9149 ±0.0170   |
|auc        |0.8439 ±0.0309    |
|gmean      |0.5691 ±0.1492    |




## 平衡采样率为 1/4 点位
### yeast-0-6 388/90=4.32
|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    |0.9177 ±0.0081   |
|auc        |0.8522 ±0.0245    |
|gmean      |0.6355 ±0.0497    |




## 平衡采样率为 1/5 点位
### yeast-0-6 388/90=4.32
|  评价指标  | ASBC |
|  ----     | ----             |
|f1score    |0.9173 ±0.0130   |
|auc        |0.8559 ±0.0316    |
|gmean      |0.6538 ±0.0805    |


# 画图展示区别
箱线图，用来选择平衡采样率位点位置。


# 实验结论
f1score和auc表现不掉队，gmean就差劲了。   
可以再加点其它的东西，凸显工作量

# 出现的 Bug
## KNN pred_prob()函数返回值只有一个数值？
正常情况是有两个数值的。
原因：训练该 KNN 的样本中只有一个类别，抽样导致的。
解决办法：平衡抽样，保证有两个类别   

- [ ] 补充图片